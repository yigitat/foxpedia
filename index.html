<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Foxpedia</title>
 <link rel="icon" type="image/x-icon" href="https://th.bing.com/th/id/R.693a606fc5fe145633c661e5ed94aed0?rik=Rm18WD7o55LmOg&pid=ImgRaw&r=0" />
  <style>
    :root {
      --orange: #ff7b00;
      --orange-dark: #d46200;
      --bg-dark: #1a1a1a;
      --bg-light: #ffffff;
      --text-dark: #eeeeee;
      --text-light: #333333;
      --card-dark: #262626;
      --card-light: #ffffff;
      --border-dark: #333;
      --border-light: #ffe7cc;
    }

    * {
      box-sizing: border-box;
      transition: background-color 0.3s, color 0.3s;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    body.light {
      background: var(--bg-light);
      color: var(--text-light);
    }

    header {
      background-color: var(--orange);
      color: white;
      padding: 1.2rem;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
      font-weight: 700;
    }

    header p {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .theme-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      backdrop-filter: blur(4px);
    }

    body.light .theme-toggle {
      color: var(--orange-dark);
      border: 1px solid var(--orange-dark);
      background: #fff5ea;
    }

    main {
      flex: 1;
      max-width: 900px;
      width: 100%;
      margin: 2rem auto;
      background: var(--card-dark);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      padding: 1.5rem;
      border: 1px solid var(--border-dark);
    }

    body.light main {
      background: var(--card-light);
      border: 1px solid var(--border-light);
    }

    form {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    input[type="text"] {
      flex: 1;
      padding: 0.8rem 1rem;
      border: 2px solid var(--border-dark);
      border-radius: 8px;
      outline: none;
      font-size: 1rem;
      background: #1f1f1f;
      color: white;
    }

    body.light input[type="text"] {
      background: #fff;
      color: #000;
      border-color: var(--border-light);
    }

    input[type="text"]:focus {
      border-color: var(--orange);
    }

    button {
      background-color: var(--orange);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.8rem 1.4rem;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: var(--orange-dark);
    }

    #result {
      margin-top: 1.5rem;
      background: #2a2a2a;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #333;
      min-height: 100px;
      white-space: pre-wrap;
    }

    body.light #result {
      background: var(--orange-light);
      border-color: var(--border-light);
      color: #000;
    }

    .history {
      margin-top: 2rem;
    }

    .history h3 {
      color: var(--orange);
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    .history-list button {
      display: inline-block;
      margin: 0.2rem;
      padding: 0.4rem 0.8rem;
      background: #2f2f2f;
      border: 1px solid #444;
      border-radius: 5px;
      font-size: 0.9rem;
      cursor: pointer;
      color: var(--orange);
    }

    body.light .history-list button {
      background: #fff3e0;
      border: 1px solid #ffd5a3;
      color: var(--orange-dark);
    }

    .history-list button:hover {
      background: #3a3a3a;
    }

    body.light .history-list button:hover {
      background: #ffe7cc;
    }

    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.85rem;
      background: #111;
      color: #aaa;
    }

    body.light footer {
      background: #fff3e0;
      color: var(--orange-dark);
    }

    @media (max-width: 600px) {
      main {
        margin: 1rem;
        padding: 1rem;
      }
    }
  </style>
</head>
<body>

  <button class="theme-toggle" id="themeToggle">‚òÄÔ∏è Aydƒ±nlƒ±k Mod</button>

  <header>
    <h1>ü¶ä Foxpedia</h1>
    <p>Yapay Zeka Tabanlƒ± Foxpedia(Beta)</p>
  </header>

  <main>
    <form id="searchForm">
      <input type="text" id="searchInput" placeholder="Bir ≈üey ara... √∂rn:JavaScript, ƒ∞stanbul">
      <button type="submit">Ara</button>
    </form>

    <div id="result">Foxpedia'ya ho≈ü geldin! ‚ú®</div>

    <div class="history">
      <h3>Arama Ge√ßmi≈üi</h3>
      <div class="history-list" id="historyList"></div>
    </div>
  </main>

  <footer>
    ¬© <span id="year"></span> <a href="https://yigitat.github.io/me" target="_blank">Yiƒüit Alp</a> ‚Äî T√ºm Haklarƒ± Saklƒ±dƒ±r.
  </footer>

  <script>
    const themeToggle = document.getElementById("themeToggle");
    const searchForm = document.getElementById("searchForm");
    const searchInput = document.getElementById("searchInput");
    const resultDiv = document.getElementById("result");
    const historyList = document.getElementById("historyList");

    // Varsayƒ±lan olarak dark mode
    document.body.classList.remove("light");

    themeToggle.addEventListener("click", () => {
      document.body.classList.toggle("light");
      themeToggle.textContent = document.body.classList.contains("light")
        ? "üåô Karanlƒ±k Mod"
        : "‚òÄÔ∏è Aydƒ±nlƒ±k Mod";
    });

    let history = JSON.parse(localStorage.getItem("foxpedia_history") || "[]");
    renderHistory();

    searchForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const query = searchInput.value.trim();
      if (!query) return;
      resultDiv.textContent = "Y√ºkleniyor...";
      try {
        const answer = await fetchChatGPT(query);
        resultDiv.innerHTML = `<b>${query}</b><br>${answer}`;
        addToHistory(query);
      } catch (err) {
        resultDiv.textContent = "Bir hata olu≈ütu: " + err.message;
      }
    });

    function addToHistory(query) {
      history = [query, ...history.filter(q => q !== query)].slice(0, 10);
      localStorage.setItem("foxpedia_history", JSON.stringify(history));
      renderHistory();
    }

    function renderHistory() {
      historyList.innerHTML = "";
      history.forEach(item => {
        const btn = document.createElement("button");
        btn.textContent = item;
        btn.onclick = async () => {
          searchInput.value = item;
          resultDiv.textContent = "Y√ºkleniyor...";
          const answer = await fetchChatGPT(item);
          resultDiv.innerHTML = `<b>${item}</b><br>${answer}`;
        };
        historyList.appendChild(btn);
      });
    }

    document.getElementById("year").textContent = new Date().getFullYear();

    // üî• OpenAI ChatGPT API baƒülantƒ±sƒ±
    const OPENAI_API_KEY = "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"; // <-- API key buraya

    async function fetchChatGPT(prompt) {
      const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${OPENAI_API_KEY}`
        },
        body: JSON.stringify({
          model: "gpt-3.5-turbo",
          messages: [
            { role: "system", content: "Sen Foxpedia adlƒ± bir ansiklopedi asistanƒ±sƒ±n. A√ßƒ±klamalarƒ± kƒ±sa, bilgilendirici ve T√ºrk√ße yap." },
            { role: "user", content: prompt }
          ],
          max_tokens: 300,
          temperature: 0.7
        })
      });

      if (!response.ok) throw new Error("API hatasƒ±: " + response.status);
      const data = await response.json();
      return data.choices?.[0]?.message?.content?.trim() || "Yanƒ±t alƒ±namadƒ±.";
    }
  </script>
</body>
</html>
